; PlatformIO Project Configuration File
;
;   Build options: build flags, source filter
;   Upload options: custom upload port, speed and extra flags
;   Library options: dependencies, extra library storages
;   Advanced options: extra scripting
;
; Please visit documentation for the other options and examples
; https://docs.platformio.org/page/projectconf.html

[env:esp32dev]
platform = espressif32        ; å¹³å°åç§°ï¼Œespressif32 è¡¨ç¤º ESP32 ç³»åˆ—å¼€å‘æ¿  
board = esp32dev              ; ESP32 å¼€å‘æ¿å‹å·ï¼Œå…·ä½“å‹å·å¯åœ¨ https://docs.platformio.org/en/latest/boards/espressif32/index.html æŸ¥è¯¢ 
; board = esp32-s3-devkitm-1    ; ESP32-S3 å¼€å‘æ¿å‹å·ï¼Œå…·ä½“å‹å·å¯åœ¨ URL_ADDRESS.platformio.org/en/latest/boards/espressif32/index.html æŸ¥è¯¢
framework = arduino           ; ä½¿ç”¨ Arduino æ¡†æ¶

monitor_speed = 115200        ; ä¸²å£æ³¢ç‰¹ç‡ï¼Œå’Œä»£ç ä¸­çš„ Serial.begin(115200) ä¿æŒä¸€è‡´ 
monitor_filters =
    esp32_exception_decoder   ; ğŸ§  è‡ªåŠ¨è§£ç  ESP32 å´©æºƒå¼‚å¸¸ï¼ˆGuru Meditationï¼‰ä¿¡æ¯ï¼Œæ–¹ä¾¿å®šä½ bug
    time                      ; ğŸ•’ åœ¨ä¸²å£æ—¥å¿—å‰æ·»åŠ æ—¶é—´æˆ³ï¼Œä¾¿äºæŸ¥çœ‹äº‹ä»¶å…ˆåé¡ºåº
    log2file                  ; ğŸ“ è‡ªåŠ¨å°†ä¸²å£è¾“å‡ºä¿å­˜åˆ° .pio/build/ä¸‹çš„ log æ–‡ä»¶ï¼Œæ–¹ä¾¿è°ƒè¯•è®°å½•å½’æ¡£
# monitor_filtersè¯¦ç»†å¯è§ï¼šhttps://docs.platformio.org/en/latest/projectconf/sections/env/options/monitor/monitor_filters.html

lib_deps =                      ; åº“ä¾èµ–åˆ—è¡¨ï¼Œä½¿ç”¨ PlatformIO çš„åº“ç®¡ç†å™¨æ¥è‡ªåŠ¨ä¸‹è½½å’Œæ›´æ–°åº“
  https://github.com/Mr-KID-github/serial-color-debug.git   # è¿™ä¸ªåº“æ˜¯æˆ‘è‡ªå·±å†™çš„ï¼Œæä¾›äº†ä¸€ä¸ªç®€å•çš„ä¸²å£è°ƒè¯•å·¥å…·ç±»ï¼Œæ–¹ä¾¿è°ƒè¯•å’Œè¾“å‡ºæ—¥å¿—
  bblanchon/ArduinoJson@^6.21.2 ; ArduinoJson åº“ï¼Œç”¨äº JSON æ•°æ®è§£æå’Œç”Ÿæˆï¼Œç‰ˆæœ¬å·å¯ä»¥æ ¹æ®éœ€è¦ä¿®æ”¹     

board_build.filesystem = spiffs ; è®¾ç½®æ–‡ä»¶ç³»ç»Ÿä¸º SPIFFSï¼ŒESP32 æ”¯æŒ SPIFFS å’Œ LittleFS ä¸¤ç§æ–‡ä»¶ç³»ç»Ÿï¼ŒSPIFFS æ˜¯ ESP32 çš„é»˜è®¤æ–‡ä»¶ç³»ç»Ÿ
build_flags =
    -Isrc/controllers/LEDController   ; æ·»åŠ LEDControlleråº“å¤¹çš„å¤´æ–‡ä»¶è·¯å¾„ï¼Œè®© PlatformIO èƒ½æ­£ç¡®æ‰¾åˆ°ä½ çš„ include æ–‡ä»¶å¤¹
    -Isrc/controllers/PWMServoController ; æ·»åŠ PWMServoControlleråº“å¤¹çš„å¤´æ–‡ä»¶è·¯å¾„ï¼Œè®© PlatformIO èƒ½æ­£ç¡®æ‰¾åˆ°ä½ çš„ include æ–‡ä»¶å¤¹
    -Isrc/controllers/MotorController ; æ·»åŠ MotorControlleråº“å¤¹çš„å¤´æ–‡ä»¶è·¯å¾„ï¼Œè®© PlatformIO èƒ½æ­£ç¡®æ‰¾åˆ°ä½ çš„ include æ–‡ä»¶å¤¹
    -Isrc/drivers/BLE    ; æ·»åŠ BLEServeråº“çš„å¤´æ–‡ä»¶è·¯å¾„ï¼Œè®© PlatformIO èƒ½æ­£ç¡®æ‰¾åˆ°ä½ çš„ include æ–‡ä»¶å¤¹ 
    -Isrc/controllers/OTAController ; æ·»åŠ OTAControlleråº“å¤¹çš„å¤´æ–‡ä»¶è·¯å¾„ï¼Œè®© PlatformIO èƒ½æ­£ç¡®æ‰¾åˆ°ä½ çš„ include æ–‡ä»¶å¤¹
    -DCORE_DEBUG_LEVEL=3  ; å¯ç”¨ä¿¡æ¯çº§åˆ«è°ƒè¯•ä¿¡æ¯
    -DBOOTLOADER_OTA_ENABLED  ; å¯ç”¨OTAåŠŸèƒ½
    -DFIRMWARE_VERSION="1.0.0"
    -DFIRMWARE_BUILD_DATE=__DATE__
    -DFIRMWARE_BUILD_TIME=__TIME__

platform_packages = espressif/toolchain-xtensa-esp32@8.4.0+2021r2-patch5 ; æŒ‡å®š ESP32 çš„å·¥å…·é“¾ç‰ˆæœ¬ï¼Œç¡®ä¿ç¼–è¯‘å™¨å’Œå·¥å…·é“¾çš„å…¼å®¹æ€§

; OTAç›¸å…³é…ç½®
board_build.partitions = partitions.csv  ; ä½¿ç”¨è‡ªå®šä¹‰åˆ†åŒºè¡¨ï¼Œé…ç½®äº†ä¸¤ä¸ª OTA åˆ†åŒº